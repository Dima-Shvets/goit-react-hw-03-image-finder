{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","services/picture-service.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","ImageGalleryItem","clickHandler","e","props","target","id","this","picture","webformatURL","tags","className","s","onClick","src","alt","Component","ImageGallery","pictureClickHandler","toggleModal","getModalPicture","pictures","map","Searchbar","state","searchQuery","inputHandler","value","setState","submitHandler","preventDefault","trim","formSubmitHandler","SearchForm","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","Button","btnHandler","prototype","PropTypes","func","isRequired","modalRoot","document","getElementById","Modal","escPressHandler","overlayClickHandler","currentTarget","window","addEventListener","removeEventListener","largeImageURL","createPortal","Overlay","BASE_URL","ACCESS_KEY","page","a","url","fetch","then","res","json","hits","Status","App","modalOpen","modalPicture","status","pageReset","find","toString","loadMoreBtnHandler","prevState","prevProps","prevQuery","nextQuery","prevPage","nextPage","pictureService","color","height","width","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.a1190af0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__39SHw\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1dgt5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3WDmS\",\"Modal\":\"Modal_Modal__12M-B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1S-WI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1D9n6\"};","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.scss';\n\nexport class ImageGalleryItem extends Component {\n  clickHandler = e => {\n    this.props.clickHandler(e.target.id);\n  };\n\n  render() {\n    const { webformatURL, tags, id } = this.props.picture;\n    return (\n      <li className={s.ImageGalleryItem} onClick={this.clickHandler}>\n        <img\n          className={s['ImageGalleryItem-image']}\n          src={webformatURL}\n          alt={tags}\n          id={id}\n        />\n      </li>\n    );\n  }\n}\n\nImageGalleryItem.propTypes = {\n  picture: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n  }),\n};\n","import { Component } from 'react';\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.scss';\n\nexport class ImageGallery extends Component {\n  pictureClickHandler = id => {\n    this.props.toggleModal();\n    this.props.getModalPicture(id);\n  };\n\n  render() {\n    return (\n      <ul className={s.ImageGallery}>\n        {this.props.pictures.map(picture => {\n          return (\n            <ImageGalleryItem\n              key={picture.id}\n              picture={picture}\n              clickHandler={this.pictureClickHandler}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  pictures: PropTypes.array.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n  getModalPicture: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.scss';\n\nexport class Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  inputHandler = e => {\n    const searchQuery = e.target.value;\n\n    this.setState({\n      searchQuery,\n    });\n  };\n\n  submitHandler = e => {\n    e.preventDefault();\n\n    if (this.state.searchQuery.trim() === '') {\n      return;\n    }\n\n    this.props.formSubmitHandler(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.submitHandler}>\n          <button type=\"submit\" className={s['SearchForm-button']}>\n            <span className={s['SearchForm-button-label']}>Search</span>\n          </button>\n\n          <input\n            className={s['SearchForm-input']}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.inputHandler}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  formSubmitHandler: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport s from './Button.module.scss';\n\nexport function Button({ btnHandler }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={() => btnHandler()}>\n      Load More\n    </button>\n  );\n}\n\nButton.prototype = {\n  btnHandler: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.scss';\n\nconst modalRoot = document.getElementById('modal-root');\n\nexport class Modal extends Component {\n  escPressHandler = () => {\n    this.props.toggleModal();\n  };\n\n  overlayClickHandler = e => {\n    if (e.target === e.currentTarget) {\n      this.props.toggleModal();\n    }\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.escPressHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.escPressHandler);\n  }\n\n  render() {\n    const { largeImageURL, tags } = this.props.picture;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.overlayClickHandler}>\n        <div className={s.Modal}>\n          <img src={largeImageURL} alt={tags} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n  picture: PropTypes.shape({\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n  }),\n};\n","const BASE_URL = 'https://pixabay.com/api';\nconst ACCESS_KEY = '23893693-5116f7539f40f5f078cda9a9c';\n\nexport async function pictureService(searchQuery, page) {\n  const url = `${BASE_URL}/?q=${searchQuery}&page=${page}&key=${ACCESS_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  const pictures = await fetch(url).then(res => res.json());\n\n  return pictures.hits;\n}\n","import { Component } from 'react';\nimport { ImageGallery } from './components/ImageGallery';\nimport { Searchbar } from './components/Searchbar';\nimport { Button } from './components/Button';\nimport { Modal } from './components/Modal';\nimport { pictureService } from './services/picture-service';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './App.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    pictures: [],\n    page: 1,\n    modalOpen: false,\n    modalPicture: {},\n    status: Status.IDLE,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page } = this.state;\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevQuery !== nextQuery || prevPage !== nextPage) {\n      this.setState({ status: Status.PENDING });\n      pictureService(nextQuery, page).then(pictures => {\n        this.setState(prevState =>\n          nextPage > 1\n            ? {\n                pictures: [...prevState.pictures, ...pictures],\n                status: Status.RESOLVED,\n              }\n            : {\n                pictures,\n                status: Status.RESOLVED,\n              },\n        );\n      });\n    }\n  }\n\n  pageReset = () => {\n    this.setState({\n      page: 1,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ modalOpen }) => ({ modalOpen: !modalOpen }));\n  };\n\n  getModalPicture = id => {\n    const modalPicture = this.state.pictures.find(\n      picture => picture.id.toString() === id,\n    );\n    this.setState({ modalPicture: modalPicture });\n  };\n\n  formSubmitHandler = searchQuery => {\n    this.pageReset();\n    this.setState({\n      searchQuery,\n    });\n  };\n\n  loadMoreBtnHandler = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { status } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar formSubmitHandler={this.formSubmitHandler} />\n\n        <ImageGallery\n          pictures={this.state.pictures}\n          toggleModal={this.toggleModal}\n          getModalPicture={this.getModalPicture}\n        />\n\n        {status === 'resolved' && (\n          <Button btnHandler={this.loadMoreBtnHandler} />\n        )}\n\n        {this.state.modalOpen && (\n          <Modal\n            toggleModal={this.toggleModal}\n            picture={this.state.modalPicture}\n          />\n        )}\n\n        {status === 'pending' && (\n          <Loader\n            className=\"Loader\"\n            type=\"BallTriangle\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__HvhBP\",\"SearchForm\":\"Searchbar_SearchForm__O4Njg\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2isVd\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__XG9gF\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1zskV\"};"],"sourceRoot":""}