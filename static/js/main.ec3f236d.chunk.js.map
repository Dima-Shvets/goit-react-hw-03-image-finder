{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","services/picture-service.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","ImageGalleryItem","clickHandler","e","props","target","id","this","picture","webformatURL","largeImageURL","tags","className","s","onClick","src","alt","Component","ImageGallery","pictureClickHandler","toggleModal","getModalPicture","pictures","map","Searchbar","state","searchQuery","inputHandler","value","setState","submitHandler","preventDefault","trim","formSubmitHandler","SearchForm","onSubmit","type","autoComplete","autoFocus","placeholder","onChange","Button","btnHandler","prototype","PropTypes","func","isRequired","modalRoot","document","getElementById","Modal","escPressHandler","overlayClickHandler","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","BASE_URL","ACCESS_KEY","page","a","url","fetch","then","res","json","hits","Status","App","modalOpen","modalPicture","status","pageReset","loadMoreBtnHandler","prevState","prevProps","prevQuery","nextQuery","prevPage","nextPage","pictureService","color","height","width","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ec3f236d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__39SHw\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1dgt5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3WDmS\",\"Modal\":\"Modal_Modal__12M-B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1S-WI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1D9n6\"};","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.scss';\n\nexport class ImageGalleryItem extends Component {\n  clickHandler = e => {\n    this.props.clickHandler(e.target.id);\n  };\n\n  render() {\n    const { webformatURL, largeImageURL, tags, id } = this.props.picture;\n    return (\n      <li\n        className={s.ImageGalleryItem}\n        onClick={() => this.props.clickHandler(largeImageURL, tags)}\n      >\n        <img\n          className={s['ImageGalleryItem-image']}\n          src={webformatURL}\n          alt={tags}\n          id={id}\n        />\n      </li>\n    );\n  }\n}\n\nImageGalleryItem.propTypes = {\n  picture: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n  }),\n};\n","import { Component } from 'react';\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.scss';\n\nexport class ImageGallery extends Component {\n  pictureClickHandler = (largeImageURL, tags) => {\n    this.props.toggleModal();\n    this.props.getModalPicture(largeImageURL, tags);\n  };\n\n  render() {\n    return (\n      <ul className={s.ImageGallery}>\n        {this.props.pictures.map(picture => {\n          return (\n            <ImageGalleryItem\n              key={picture.id}\n              picture={picture}\n              clickHandler={this.pictureClickHandler}\n            />\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  pictures: PropTypes.array.isRequired,\n  toggleModal: PropTypes.func.isRequired,\n  getModalPicture: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.scss';\n\nexport class Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  inputHandler = e => {\n    const searchQuery = e.target.value;\n\n    this.setState({\n      searchQuery,\n    });\n  };\n\n  submitHandler = e => {\n    e.preventDefault();\n\n    if (this.state.searchQuery.trim() === '') {\n      return;\n    }\n\n    this.props.formSubmitHandler(this.state.searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.submitHandler}>\n          <button type=\"submit\" className={s['SearchForm-button']}>\n            <span className={s['SearchForm-button-label']}>Search</span>\n          </button>\n\n          <input\n            className={s['SearchForm-input']}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.searchQuery}\n            onChange={this.inputHandler}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  formSubmitHandler: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport s from './Button.module.scss';\n\nexport function Button({ btnHandler }) {\n  return (\n    <button className={s.Button} type=\"button\" onClick={() => btnHandler()}>\n      Load More\n    </button>\n  );\n}\n\nButton.prototype = {\n  btnHandler: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.scss';\n\nconst modalRoot = document.getElementById('modal-root');\n\nexport class Modal extends Component {\n  escPressHandler = () => {\n    this.props.toggleModal();\n  };\n\n  overlayClickHandler = e => {\n    if (e.target === e.currentTarget) {\n      this.props.toggleModal();\n    }\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.escPressHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.escPressHandler);\n  }\n\n  render() {\n    const { largeImageURL, tags } = this.props.picture;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.overlayClickHandler}>\n        <div className={s.Modal}>\n          <img src={largeImageURL} alt={tags} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n  picture: PropTypes.shape({\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n  }),\n};\n","const BASE_URL = 'https://pixabay.com/api';\nconst ACCESS_KEY = '23893693-5116f7539f40f5f078cda9a9c';\n\nexport async function pictureService(searchQuery, page) {\n  const url = `${BASE_URL}/?q=${searchQuery}&page=${page}&key=${ACCESS_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  const pictures = await fetch(url).then(res => res.json());\n\n  return pictures.hits;\n}\n","import { Component } from 'react';\nimport { ImageGallery } from './components/ImageGallery';\nimport { Searchbar } from './components/Searchbar';\nimport { Button } from './components/Button';\nimport { Modal } from './components/Modal';\nimport { pictureService } from './services/picture-service';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport './App.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n    pictures: [],\n    page: 1,\n    modalOpen: false,\n    modalPicture: {},\n    status: Status.IDLE,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page } = this.state;\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevQuery !== nextQuery || prevPage !== nextPage) {\n      this.setState({ status: Status.PENDING });\n      pictureService(nextQuery, page).then(pictures => {\n        this.setState(prevState =>\n          nextPage > 1\n            ? {\n                pictures: [...prevState.pictures, ...pictures],\n                status: Status.RESOLVED,\n              }\n            : {\n                pictures,\n                status: Status.RESOLVED,\n              },\n        );\n      });\n    }\n  }\n\n  pageReset = () => {\n    this.setState({\n      page: 1,\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ modalOpen }) => ({ modalOpen: !modalOpen }));\n  };\n\n  getModalPicture = (largeImageURL, tags) => {\n    this.setState({ modalPicture: { largeImageURL, tags } });\n  };\n\n  formSubmitHandler = searchQuery => {\n    this.pageReset();\n    this.setState({\n      searchQuery,\n    });\n  };\n\n  loadMoreBtnHandler = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n\n  render() {\n    const { status } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar formSubmitHandler={this.formSubmitHandler} />\n\n        <ImageGallery\n          pictures={this.state.pictures}\n          toggleModal={this.toggleModal}\n          getModalPicture={this.getModalPicture}\n        />\n\n        {status === 'resolved' && (\n          <Button btnHandler={this.loadMoreBtnHandler} />\n        )}\n\n        {this.state.modalOpen && (\n          <Modal\n            toggleModal={this.toggleModal}\n            picture={this.state.modalPicture}\n          />\n        )}\n\n        {status === 'pending' && (\n          <Loader\n            className=\"Loader\"\n            type=\"BallTriangle\"\n            color=\"#3f51b5\"\n            height={80}\n            width={80}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__HvhBP\",\"SearchForm\":\"Searchbar_SearchForm__O4Njg\",\"SearchForm-button\":\"Searchbar_SearchForm-button__2isVd\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__XG9gF\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1zskV\"};"],"sourceRoot":""}